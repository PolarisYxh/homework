# 题目  
用分支定界算法求以下问题：  
某公司于乙城市的销售点急需一批成品， 该公司成品生产基地在甲城市。  
甲城市与乙城市之间共有 n 座城市，互相以公路连通。甲城市、乙城市以及其它各城市之间的公路连通情况及每段公路的长度由矩阵M1 给出。  
每段公路均由地方政府收取不同额度的养路费等费用， 具体数额由矩阵 M2 给出。  
请给出在需付养路费总额不超过 1500 的情况下，该公司货车运送其产品从甲城市到乙城市的最短运送路线。
具体数据参见文件：  
M1.txt: 各城市之间的公路连通情况及每段公路的长度矩阵(有向图); 甲城市为城市 Num.1，乙城市为城市 Num.50。  
M2.txt: 每段公路收取的费用矩阵（非对称）。
# 分析说明  
## 分支定界法：
用深度优先遍历有向图，且经过每一个节点时，将节点加入路径列表，算出该路径的长度和花费，从该节点返回时，将该节点从路径列表中删除。经过该节点到达终点的距离和花费下界计算出来，距离下界与当前距离最小值比较，如果距离下界大于当前全局最小距离或者花费下界大于1500则剪枝。当到达50节点时，如果该完整路径的距离最小，将此时路径的长度存入全局最优路径，路径长度作为全局最优长度。

## 下界的计算：
先对图以50这个节点为起点，1为终点，用dijkstra算法计算出所有点到50这个点的最短距离和最小花费。在dfs遍历时将遍历到的节点，找出所有后续节点，并且计算已遍历到的节点已经经过的路径长度加上该节点到某一后续节点的距离和后续节点到终点的最短距离得到的距离，将后续节点名与经过该后续节点的计算得到的距离生成的键值对加入字典，将字典按距离从小到大排序，字典中最小的距离即为该节点的距离下界。接着dfs遍历时，按照字典排序的节点顺序进行遍历，剪枝概率最大。

## 时间复杂度
dijkstra算法时间复杂度O(n$^2$),调用两次dijkstra算法，所以时间复杂度2*O(n$^2$)
dfs算法时间复杂度:O(n$^3$) 有点问题

## 结果
![avatar](./1.png)

